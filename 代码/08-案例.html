<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./node_modules/vue/dist/vue.js"></script>
</head>
<body>
    <div id="box">
    <h2>输入表</h2>
    <div>
        <p>姓名: <input type="" v-model="name"></p>
        <p>年龄: <input type="text" v-model="age"></p>
        <button @click="add()">添加</button>
        <button @click='reset()'>重置</button><hr>
    </div>
    <h2>信息表</h2>
    <table border="1" width='500' style="border-collapse:collapse">
        <thead>
            <th>id</th>
            <th>姓名</th>
            <th>年龄</th>
            <th>操作</th>
        </thead>
        <tr v-for="(item,index) in arr" :key="index">
            <td>{{index+1}}</td>
            <td>{{item.name}}</td>
            <td>{{item.age}}</td>
            <td><button @click="del(index)">删除</button></td>
        </tr>
        <tr>
            <td colspan="4">
                <button @click="delAll" v-if="arr.length>0">全部删除</button>
                <span v-else>暂无数据</span>
            </td>
        </tr>
    </table>
</div>


    <script>
        new Vue({
            el:'#box',
            data:{
                name:'',
                age:"",
                arr:[{
                    id:1,
                    name:'张三',
                    age:18
                },
                {
                    id:2,
                    name:'李四',
                    age:18
                },
                {
                    id:3,
                    name:'王五',
                    age:18
                },
                {
                    id:4,
                    name:'赵六',
                    age:18
                }]
            },
            methods:{
                delAll(){
                    this.arr=[];
                },
                del(index){
                    this.arr.splice(index,1);
                    console.log(index);
                },
                add(){
                    //判断输入是否为空，为空则不能添加
                    if(this.name!=''&this.age!=''){
                        this.arr.push({id:5,name:this.name,age:this.age});
                    this.reset()
                    }
                },
                reset(){
                    this.name='',
                    this.age=''
                }
            }
        })
    </script>
    
</body>
</html>